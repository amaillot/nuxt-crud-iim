(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{244:function(t,e,r){"use strict";var o=r(250),n=r.n(o);e.a=n.a.create({baseURL:"http://localhost:3001/"})},246:function(t,e,r){var content=r(275);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(46).default)("21deba16",content,!0,{sourceMap:!1})},274:function(t,e,r){"use strict";var o=r(246);r.n(o).a},275:function(t,e,r){(t.exports=r(45)(!1)).push([t.i,".img-landing{max-width:200px!important;margin-bottom:20px}.img-landing-right{max-width:100px!important;float:right;position:relative;top:-10px}.container-products{margin-top:50px}.container-products h2,.zone-button-add{text-align:center}.form-add-product{width:87%;margin:0 auto}.img-landing{max-width:300px}.form-control{margin-bottom:10px;margin-top:10px}",""])},284:function(t,e,r){"use strict";r.r(e);r(10),r(82);var o=r(22),n=r(244),d="http://localhost:3001/",c={asyncData:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(e){var r,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,n.a.get("/products");case 3:return r=t.sent,data=r.data,t.abrupt("return",{currentProduct:null,products:data});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{currentProduct:null,products:[],name:null,description:null,price:null,showAddProduct:!1}},head:function(){return{title:"Liste des produits"}},methods:{deleteData:function(t){var e=this;n.a.delete(d+"products/"+t).then(function(r){e.products=e.products.filter(function(e){return e.id!==t?e:""})})},formSubmit:function(t){var e=this;t.preventDefault(),n.a.post(d+"products",{name:this.name,description:this.description,price:this.price}).then(function(t){e.products.push(t.data)})},toggleAddProduct:function(){this.showAddProduct=!this.showAddProduct,console.log(this.showAddProduct)}}},l=(r(274),r(40)),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"container container-products"},[r("img",{staticClass:"img-landing",attrs:{href:"http://google.com",src:"http://dev.meilleurs-masters.com/logo_ecole/logoiimencouleur-1548938387.png",alt:""}}),t._v(" "),r("img",{staticClass:"img-landing-right",attrs:{src:"https://nuxtjs.org/meta_640.png",alt:""}}),t._v(" "),r("hr"),t._v(" "),r("h2",[t._v("Liste des produits")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"row"},t._l(t.products,function(e){return r("div",{key:e.id,staticClass:"col-md-3 mb-md-3"},[r("div",{staticClass:"card"},[r("img",{staticClass:"card-img-top",attrs:{src:"https://3dnews.ru/assets/external/illustrations/2019/05/15/987496/PS561.jpg",alt:""}}),t._v(" "),r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"card-text"},[t._v(t._s(e.price)+"€")]),t._v(" "),r("nuxt-link",{staticClass:"btn btn-primary",attrs:{to:{name:"products-id",params:{id:e.id}}}},[t._v("Voir le produit")]),t._v(" "),r("button",{staticClass:"btn btn-danger",on:{click:function(r){return t.deleteData(e.id)}}},[t._v("Delete")])],1)])])}),0),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"row zone-button-add"},[r("div",{staticClass:"col-md-12"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-toggle":"modal","data-target":"#newModal"},on:{click:function(e){return t.toggleAddProduct()}}},[t._v("Ajouter un nouveau produit")])])])]),t._v(" "),t._m(0),t._v(" "),t.showAddProduct?r("form",{staticClass:"form-add-product",on:{submit:t.formSubmit}},[r("strong",[t._v("Nom :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("strong",[t._v("Prix :")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),r("strong",[t._v("Description :")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),r("button",{staticClass:"btn btn-success"},[t._v("Valider")])]):t._e()])},[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",attrs:{id:"addModal",tabindex:"-1",role:"dialog","aria-labelledby":"addModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title",attrs:{id:"addModalLabel"}},[t._v("Modal title")]),t._v(" "),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),r("div",{staticClass:"modal-body"},[t._v("\n          ...\n        ")]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])])])])}],!1,null,null,null);e.default=component.exports}}]);